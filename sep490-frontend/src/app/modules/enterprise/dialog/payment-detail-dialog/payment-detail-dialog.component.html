<div class="mt-4 w-[400px] rounded-xl shadow-lg sm:w-[500px] md:w-[600px]">
    <!-- Dialog Header -->
    <div
        class="p-dialog-header flex items-center justify-between rounded-t-xl border-b bg-gradient-to-r p-4"
    >
        <span
            class="flex items-center gap-2 text-xl font-semibold text-indigo-700"
        >
            <i class="pi pi-wallet text-indigo-500"></i>
            {{ "paymentDetail.header" | translate }}
        </span>
        <button
            pButton
            type="button"
            icon="pi pi-times"
            class="p-button-rounded p-button-text text-gray-600 transition-colors hover:bg-indigo-100"
            (click)="closeDialog()"
        ></button>
    </div>

    <!-- Dialog Content -->
    <div
        class="p-dialog-content flex min-h-[200px] flex-col overflow-hidden p-4"
    >
        <!-- Loading State -->
        <ng-container *ngIf="loading">
            <div class="flex items-center justify-center" style="height: 300px">
                <p-progressSpinner
                    styleClass="w-12 h-12 text-indigo-500"
                    strokeWidth="4"
                    animationDuration="1s"
                >
                </p-progressSpinner>
            </div>
        </ng-container>

        <!-- Payment Details -->
        <ng-container *ngIf="!loading && paymentDetail">
            <div class="p-4">
                <div class="grid gap-4">
                    <!-- Created Date -->
                    <div class="col-6 mb-3 rounded-lg p-3 transition-colors">
                        <label
                            class="flex items-center gap-2 text-sm font-semibold"
                        >
                            <i class="pi pi-calendar text-indigo-500"></i>
                            {{ "paymentDetail.labels.createdDate" | translate }}
                        </label>
                        <p class="mt-1 text-base text-gray-800">
                            {{
                                paymentDetail.createdDate ||
                                    ("paymentDetail.fallback.na" | translate)
                            }}
                        </p>
                    </div>

                    <!-- Status -->
                    <div class="col-6 mb-3 rounded-lg transition-colors">
                        <label
                            class="flex items-center gap-2 text-sm font-semibold"
                        >
                            <i class="pi pi-check-circle text-indigo-500"></i>
                            {{ "paymentDetail.labels.status" | translate }}
                        </label>
                        <p class="mt-1 text-base">
                            <span
                                [ngClass]="getStatusClass(paymentDetail.status)"
                                class="rounded-full px-2 py-1 text-sm"
                            >
                                {{
                                    "enum.status.payment." +
                                        paymentDetail.status | translate
                                }}
                            </span>
                        </p>
                    </div>

                    <!-- Amount -->
                    <div class="col-6 mb-3 rounded-lg p-3 transition-colors">
                        <label
                            class="flex items-center gap-2 text-sm font-semibold"
                        >
                            <i class="pi pi-dollar text-indigo-500"></i>
                            {{ "paymentDetail.labels.amount" | translate }}
                        </label>
                        <p class="mt-1 text-base font-medium">
                            {{ formatAmount(paymentDetail.amount) }}
                            {{ paymentDetail.currency }}
                        </p>
                    </div>

                    <!-- Number of Credits -->
                    <div class="col-6 mb-3 rounded-lg p-3 transition-colors">
                        <label
                            class="flex items-center gap-2 text-sm font-semibold"
                        >
                            <i class="pi pi-star text-indigo-500"></i>
                            {{ "paymentDetail.labels.credits" | translate }}
                        </label>
                        <p class="mt-1 text-base">
                            {{
                                paymentDetail.numberOfCredits ||
                                    ("paymentDetail.fallback.na" | translate)
                            }}
                        </p>
                    </div>

                    <!-- Account Name -->
                    <div class="col-6 mb-3 rounded-lg transition-colors">
                        <label
                            class="flex items-center gap-2 text-sm font-semibold"
                        >
                            <i class="pi pi-user text-indigo-500"></i>
                            {{ "paymentDetail.labels.accountName" | translate }}
                        </label>
                        <p class="mt-1 text-base">
                            {{
                                paymentDetail.accountName ||
                                    ("paymentDetail.fallback.na" | translate)
                            }}
                        </p>
                    </div>

                    <!-- Account Number -->
                    <div class="col-6 mb-3 rounded-lg transition-colors">
                        <label
                            class="flex items-center gap-2 text-sm font-semibold"
                        >
                            <i class="pi pi-id-card text-indigo-500"></i>
                            {{
                                "paymentDetail.labels.accountNumber" | translate
                            }}
                        </label>
                        <p class="mt-1 text-base">
                            {{
                                paymentDetail.accountNumber ||
                                    ("paymentDetail.fallback.na" | translate)
                            }}
                        </p>
                    </div>

                    <!-- Enterprise Info -->
                    <div class="col-12 mb-3 rounded-lg transition-colors">
                        <label
                            class="flex items-center gap-2 text-sm font-semibold"
                        >
                            <i class="pi pi-building text-indigo-500"></i>
                            {{ "paymentDetail.labels.enterprise" | translate }}
                        </label>
                        <p class="mt-1 text-base">
                            <ng-container
                                *ngIf="
                                    paymentDetail.enterpriseDTO;
                                    else noEnterprise
                                "
                            >
                                <span class="flex items-center gap-2">
                                    <i
                                        class="pi pi-tag text-sm text-indigo-400"
                                    ></i>
                                    {{
                                        "paymentDetail.labels.name" | translate
                                    }}:
                                    {{
                                        paymentDetail.enterpriseDTO.name ||
                                            ("paymentDetail.fallback.na"
                                                | translate)
                                    }}
                                </span>
                                <br />
                                <span class="flex items-center gap-2">
                                    <i
                                        class="pi pi-envelope text-sm text-indigo-400"
                                    ></i>
                                    Email:
                                    {{
                                        paymentDetail.enterpriseDTO.email ||
                                            ("paymentDetail.fallback.na"
                                                | translate)
                                    }}
                                </span>
                                <br />
                                <span class="flex items-center gap-2">
                                    <i
                                        class="pi pi-phone text-sm text-indigo-400"
                                    ></i>
                                    {{
                                        "paymentDetail.labels.hotline"
                                            | translate
                                    }}:
                                    {{
                                        paymentDetail.enterpriseDTO.hotline ||
                                            ("paymentDetail.fallback.na"
                                                | translate)
                                    }}
                                </span>
                            </ng-container>
                            <ng-template #noEnterprise>
                                {{ "paymentDetail.fallback.na" | translate }}
                            </ng-template>
                        </p>
                    </div>
                </div>
            </div>
        </ng-container>
    </div>
</div>
