<div class="mb-4 flex items-center justify-between border-b pb-1">
    <h1 class="text-lg font-bold text-primary">
        {{ 'invitation.title' | translate }}
    </h1>
</div>
<p>
    {{ 'invitation.description' | translate }}
</p>

<!-- No invitations -->
<div
    *ngIf="!invitations?.length"
    class="mt-4 flex justify-center"
>
    <div
        class="w-full max-w-md rounded-lg border border-gray-300 bg-white p-8 text-center shadow-md dark:border-gray-600 dark:bg-gray-800"
    >
        <div class="mb-4 flex justify-center">
            <i class="pi pi-inbox text-5xl text-gray-400 dark:text-gray-500"></i>
        </div>
        <h2 class="mb-2 text-xl font-semibold text-gray-800 dark:text-gray-100">
            {{ 'sentInvitation.noInvitationsTitle' | translate }}
        </h2>
        <p class="mb-4 text-gray-600 dark:text-gray-400">
            {{ 'sentInvitation.noInvitationsDescription' | translate }}
        </p>
        <p-button
            label="{{ 'common.update' | translate }}"
            icon="pi pi-refresh"
            (click)="refetchPendingInvitation()"
            styleClass="p-button-outlined"
        ></p-button>
    </div>
</div>

<div
    class="mt-4"
    *ngFor="let invitation of invitations"
>
    <div class="rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-800 dark:bg-black">
        <h2 class="mb-2 text-xl font-semibold text-gray-800 dark:text-gray-100">
            Invitation to: {{ invitation.buildingGroup.name }}
        </h2>

        <p class="text-sm text-gray-600 dark:text-gray-300">
            <span class="font-medium">Building:</span>
            {{ invitation.buildingGroup.building.name }}
        </p>
        <p class="text-sm text-gray-600 dark:text-gray-300">
            <span class="font-medium">Address:</span>
            {{ invitation.buildingGroup.building.address }}
        </p>
        <p class="text-sm text-gray-600 dark:text-gray-300">
            <span class="font-medium">Group:</span>
            {{ invitation.buildingGroup.name }}
        </p>
        <p class="mb-4 text-sm text-gray-600 dark:text-gray-300">
            <span class="font-medium">Status:</span>
            <span
                [ngClass]="{
                    'text-yellow-600': invitation.status === 'PENDING',
                    'text-green-600': invitation.status === 'ACCEPTED',
                    'text-red-600': invitation.status === 'REJECTED'
                }"
            >
                {{ invitation.status }}
            </span>
        </p>

        <!-- Buttons only for PENDING invitations -->
        <div
            class="flex gap-4"
            *ngIf="invitation.status === 'PENDING'"
        >
            <button
                class="rounded bg-green-600 px-4 py-2 text-white hover:bg-green-700"
                (click)="acceptInvitation(invitation)"
            >
                Accept
            </button>
            <button
                class="rounded bg-red-600 px-4 py-2 text-white hover:bg-red-700"
                (click)="rejectInvitation(invitation)"
            >
                Reject
            </button>
        </div>
    </div>
</div>
