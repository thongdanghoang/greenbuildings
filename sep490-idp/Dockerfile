FROM eclipse-temurin:21-jdk-alpine
COPY target/*.jar app.jar
ARG DB_HOST
ARG DB_PORT
ARG DB_NAME
ARG DB_SCHEMA
ARG POSTGRES_USER
ARG POSTGRES_PASSWORD
ENV DB_HOST=$DB_HOST
ENV DB_PORT=$DB_PORT
ENV DB_NAME=$DB_NAME
ENV DB_SCHEMA=$DB_SCHEMA
ENV POSTGRES_USER=$POSTGRES_USER
ENV POSTGRES_PASSWORD=$POSTGRES_PASSWORD
ENTRYPOINT ["java", "-jar", "/app.jar"]